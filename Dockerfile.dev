# =============================================
# Dockerfile.dev - Desenvolvimento
# Eventos - Comunidade Café Bugado
# =============================================

FROM node:20-alpine

WORKDIR /app

# Instala pnpm
RUN corepack enable && corepack prepare pnpm@latest --activate

# Copia arquivos de dependências
COPY package.json pnpm-lock.yaml ./

# Instala dependências (frozen-lockfile garante builds reproduzíveis)
RUN pnpm install --frozen-lockfile

# Não copia o código-fonte aqui.
# O volume bind mount do docker-compose monta o diretório do host
# em /app, permitindo que mudanças reflitam automaticamente.

EXPOSE 5173

# Inicia servidor de desenvolvimento (host/hmr configurados no vite.config.js)
CMD ["pnpm", "dev"]
